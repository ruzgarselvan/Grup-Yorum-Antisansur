(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[974],{6625:(e,t,r)=>{"use strict";r.d(t,{default:()=>V});var a=r(5155),l=r(2115),n={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};let s=(e,t)=>{let r=(0,l.forwardRef)((r,a)=>{let{color:s="currentColor",size:i=24,strokeWidth:c=2,absoluteStrokeWidth:u,className:o="",children:d,...h}=r;return(0,l.createElement)("svg",{ref:a,...n,width:i,height:i,stroke:s,strokeWidth:u?24*Number(c)/Number(i):c,className:["lucide","lucide-".concat(e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase().trim()),o].join(" "),...h},[...t.map(e=>{let[t,r]=e;return(0,l.createElement)(t,r)}),...Array.isArray(d)?d:[d]])});return r.displayName="".concat(e),r},i=s("Repeat1",[["path",{d:"m17 2 4 4-4 4",key:"nntrym"}],["path",{d:"M3 11v-1a4 4 0 0 1 4-4h14",key:"84bu3i"}],["path",{d:"m7 22-4-4 4-4",key:"1wqhfi"}],["path",{d:"M21 13v1a4 4 0 0 1-4 4H3",key:"1rx37r"}],["path",{d:"M11 10h1v4",key:"70cz1p"}]]),c=s("Repeat",[["path",{d:"m17 2 4 4-4 4",key:"nntrym"}],["path",{d:"M3 11v-1a4 4 0 0 1 4-4h14",key:"84bu3i"}],["path",{d:"m7 22-4-4 4-4",key:"1wqhfi"}],["path",{d:"M21 13v1a4 4 0 0 1-4 4H3",key:"1rx37r"}]]),u=s("Shuffle",[["path",{d:"M2 18h1.4c1.3 0 2.5-.6 3.3-1.7l6.1-8.6c.7-1.1 2-1.7 3.3-1.7H22",key:"1wmou1"}],["path",{d:"m18 2 4 4-4 4",key:"pucp1d"}],["path",{d:"M2 6h1.9c1.5 0 2.9.9 3.6 2.2",key:"10bdb2"}],["path",{d:"M22 18h-5.9c-1.3 0-2.6-.7-3.3-1.8l-.5-.8",key:"vgxac0"}],["path",{d:"m18 14 4 4-4 4",key:"10pe0f"}]]),o=s("SkipBack",[["polygon",{points:"19 20 9 12 19 4 19 20",key:"o2sva"}],["line",{x1:"5",x2:"5",y1:"19",y2:"5",key:"1ocqjk"}]]),d=s("Pause",[["rect",{width:"4",height:"16",x:"6",y:"4",key:"iffhe4"}],["rect",{width:"4",height:"16",x:"14",y:"4",key:"sjin7j"}]]),h=s("Play",[["polygon",{points:"5 3 19 12 5 21 5 3",key:"191637"}]]),m=s("SkipForward",[["polygon",{points:"5 4 15 12 5 20 5 4",key:"16p6eg"}],["line",{x1:"19",x2:"19",y1:"5",y2:"19",key:"futhcm"}]]),f=e=>{if(!Number.isFinite(e)||e<0)return"0:00";let t=Math.floor(e),r=Math.floor(t/60);return"".concat(r,":").concat((t%60).toString().padStart(2,"0"))},p=(e,t,r)=>Math.min(Math.max(e,t),r),x=(e,t)=>{try{let r=window.localStorage.getItem(e);return r?JSON.parse(r):t}catch(r){return console.warn("Failed to read ".concat(e," from storage"),r),t}},y=(e,t)=>{try{window.localStorage.setItem(e,JSON.stringify(t))}catch(t){console.warn("Failed to write ".concat(e," to storage"),t)}};function k(e){let{currentTime:t,duration:r,onSeek:n}=e,s=(0,l.useRef)(null),[i,c]=(0,l.useState)(!1),u=r>0?Math.min(t/r,1):0,o=(0,l.useCallback)(e=>{let t=s.current;if(!t||r<=0)return;let a=t.getBoundingClientRect();n(Math.min(Math.max((e-a.left)/a.width,0),1)*r)},[r,n]),d=()=>{c(!1)};return(0,a.jsxs)("div",{className:"w-full",children:[(0,a.jsx)("div",{ref:s,className:"progress-container",role:"slider","aria-valuemin":0,"aria-valuenow":Math.floor(t),"aria-valuemax":Math.floor(r),"aria-label":"Playback progress",onMouseDown:e=>{c(!0),o(e.clientX)},onMouseMove:e=>{i&&o(e.clientX)},onMouseUp:d,onMouseLeave:d,onTouchStart:e=>{c(!0),o(e.touches[0].clientX)},onTouchMove:e=>{i&&o(e.touches[0].clientX)},onTouchEnd:()=>{c(!1)},children:(0,a.jsx)("div",{className:"progress-bar",style:{width:"".concat(100*u,"%")}})}),(0,a.jsxs)("div",{className:"mt-1 flex justify-between text-[10px] text-white/60",children:[(0,a.jsx)("span",{children:f(t)}),(0,a.jsx)("span",{children:f(r)})]})]})}let w=s("VolumeX",[["polygon",{points:"11 5 6 9 2 9 2 15 6 15 11 19 11 5",key:"16drj5"}],["line",{x1:"22",x2:"16",y1:"9",y2:"15",key:"1ewh16"}],["line",{x1:"16",x2:"22",y1:"9",y2:"15",key:"5ykzw1"}]]),g=s("Volume",[["polygon",{points:"11 5 6 9 2 9 2 15 6 15 11 19 11 5",key:"16drj5"}]]),b=s("Volume1",[["polygon",{points:"11 5 6 9 2 9 2 15 6 15 11 19 11 5",key:"16drj5"}],["path",{d:"M15.54 8.46a5 5 0 0 1 0 7.07",key:"ltjumu"}]]),v=s("Volume2",[["polygon",{points:"11 5 6 9 2 9 2 15 6 15 11 19 11 5",key:"16drj5"}],["path",{d:"M15.54 8.46a5 5 0 0 1 0 7.07",key:"ltjumu"}],["path",{d:"M19.07 4.93a10 10 0 0 1 0 14.14",key:"1kegas"}]]);function j(e){let{volume:t,onChange:r}=e,n=(0,l.useMemo)(()=>0===t?w:t<.33?g:t<.66?b:v,[t]);return(0,a.jsxs)("div",{className:"flex w-full flex-wrap items-center gap-1.5",children:[(0,a.jsx)("button",{type:"button",onClick:()=>{r(t>0?0:.7)},className:"control-button","aria-label":0===t?"Sesi a\xe7":"Sesi kapat",children:(0,a.jsx)(n,{className:"h-4 w-4"})}),(0,a.jsx)("div",{className:"flex-1 w-full min-w-0",children:(0,a.jsx)("input",{type:"range",min:0,max:1,step:.01,value:t,onChange:e=>{r(Number(e.target.value))},className:"w-full accent-blue-500","aria-label":"Volume"})})]})}function N(e){let{title:t,artist:r,isPlaying:l,shuffle:n,repeatMode:s,currentTime:f,duration:p,volume:x,onPlayPause:y,onNext:w,onPrevious:g,onShuffle:b,onRepeatChange:v,onSeek:N,onVolumeChange:M}=e;return(0,a.jsxs)("div",{className:"space-y-2.5 rounded-2xl border border-white/10 bg-white/5 p-3.5 shadow-inner backdrop-blur",children:[(0,a.jsxs)("div",{className:"space-y-0.5 text-center",children:[(0,a.jsx)("p",{className:"text-[9px] font-semibold uppercase tracking-[0.32em] text-white/50",children:"Şimdi \xc7alıyor"}),(0,a.jsx)("h2",{className:"text-sm font-semibold text-white",children:t}),(0,a.jsx)("p",{className:"text-[10px] text-white/60",children:r})]}),(0,a.jsx)(k,{currentTime:f,duration:p,onSeek:N}),(0,a.jsxs)("div",{className:"flex flex-col gap-3",children:[(0,a.jsxs)("div",{className:"flex flex-wrap items-center justify-center gap-1.5",children:[(0,a.jsx)("button",{type:"button",className:"control-button ".concat(n?"text-white bg-white/10":"").trim(),onClick:b,"aria-label":n?"Karışık \xe7almayı kapat":"Karışık \xe7almayı a\xe7",children:(0,a.jsx)(u,{className:"h-5 w-5"})}),(0,a.jsx)("button",{type:"button",className:"control-button",onClick:g,"aria-label":"\xd6nceki şarkı",children:(0,a.jsx)(o,{className:"h-5 w-5"})}),(0,a.jsx)("button",{type:"button",className:"play-button",onClick:y,"aria-label":l?"Duraklat":"Oynat",children:l?(0,a.jsx)(d,{className:"h-6 w-6"}):(0,a.jsx)(h,{className:"h-6 w-6"})}),(0,a.jsx)("button",{type:"button",className:"control-button",onClick:w,"aria-label":"Sonraki şarkı",children:(0,a.jsx)(m,{className:"h-5 w-5"})}),(0,a.jsx)("button",{type:"button",className:"control-button ".concat("off"!==s?"text-white bg-white/10":"").trim(),onClick:v,"aria-label":"Tekrar modunu değiştir",children:(0,a.jsx)("one"===s?i:c,{className:"h-5 w-5"})})]}),(0,a.jsx)("div",{className:"pt-0",children:(0,a.jsx)(j,{volume:x,onChange:M})})]})]})}let M=s("RefreshCcw",[["path",{d:"M21 12a9 9 0 0 0-9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"14sxne"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}],["path",{d:"M3 12a9 9 0 0 0 9 9 9.75 9.75 0 0 0 6.74-2.74L21 16",key:"1hlbsb"}],["path",{d:"M16 16h5v5",key:"ccwih5"}]]),S=s("ArrowUpDown",[["path",{d:"m21 16-4 4-4-4",key:"f6ql7i"}],["path",{d:"M17 20V4",key:"1ejh1v"}],["path",{d:"m3 8 4-4 4 4",key:"11wl7u"}],["path",{d:"M7 4v16",key:"1glfcx"}]]),C=s("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]]),E=s("Heart",[["path",{d:"M19 14c1.49-1.46 3-3.21 3-5.5A5.5 5.5 0 0 0 16.5 3c-1.76 0-3 .5-4.5 2-1.5-1.5-2.74-2-4.5-2A5.5 5.5 0 0 0 2 8.5c0 2.3 1.5 4.05 3 5.5l7 7Z",key:"c3ymky"}]]),L="music-player:favorites",T=()=>x(L,[]);function R(e){let{songId:t,className:r="",onToggle:n}=e,[s,i]=(0,l.useState)(!1);return(0,l.useEffect)(()=>{i(!!t&&T().includes(t))},[t]),(0,a.jsx)("button",{type:"button","aria-pressed":s,onClick:e=>{e.stopPropagation();let r=(e=>{if(!e)return!1;let t=new Set(T());return t.has(e)?t.delete(e):t.add(e),y(L,Array.from(t)),t.has(e)})(t);i(r),null==n||n(r)},className:"rounded-full p-1.5 transition-all duration-300 hover:bg-white/10 ".concat(r).trim(),children:(0,a.jsx)(E,{size:18,className:s?"text-[#e74c3c] fill-[#e74c3c]":"text-white/70"})})}let P=e=>e.toLowerCase().normalize("NFD").replace(/[\u0300-\u036f]/g,"").replace(/[ç]/g,"c").replace(/[ğ]/g,"g").replace(/[ı]/g,"i").replace(/[ö]/g,"o").replace(/[ş]/g,"s").replace(/[ü]/g,"u").replace(/[^a-z0-9\s]/g," ").replace(/\s+/g," ").trim();function A(e){let{songs:t,currentSong:r,onSongSelect:n,onRefresh:s}=e,[i,c]=(0,l.useState)(""),[u,o]=(0,l.useState)(!0),d=(0,l.useMemo)(()=>{let e=P(i.trim()),r=t.filter(t=>{if(!e)return!0;let r=P(t.title),a=P(t.artist);return r.includes(e)||a.includes(e)}),a=u?1:-1;return r.sort((e,t)=>{let r=P(e.title),l=P(t.title);if(r!==l)return r<l?-a:a;let n=P(e.artist),s=P(t.artist);return n===s?0:n<s?-a:a})},[t,i,u]);return(0,a.jsxs)("div",{className:"flex h-full min-h-0 flex-col gap-2",children:[(0,a.jsxs)("div",{className:"flex flex-wrap items-center gap-1.5",children:[(0,a.jsxs)("button",{type:"button",onClick:()=>{s()},className:"song-toolbar-button","aria-label":"Listeyi yenile",children:[(0,a.jsx)(M,{className:"w-4 h-4"}),(0,a.jsx)("span",{children:"Yenile"})]}),(0,a.jsxs)("button",{type:"button",onClick:()=>{o(e=>!e)},className:"song-toolbar-button","aria-label":"Sıralamayı değiştir",children:[(0,a.jsx)(S,{className:"w-4 h-4"}),(0,a.jsx)("span",{children:"Sırala"})]}),(0,a.jsxs)("div",{className:"relative ml-auto w-full min-[420px]:w-auto min-[420px]:flex-1",children:[(0,a.jsx)(C,{className:"absolute left-3 top-1/2 -translate-y-1/2 h-4 w-4 text-white/40"}),(0,a.jsx)("input",{type:"search",value:i,onChange:e=>c(e.target.value),placeholder:"Şarkı ara",className:"w-full rounded-full border border-white/10 bg-white/5 py-1.5 pl-9 pr-3 text-xs text-white placeholder:text-white/40 focus:outline-none focus:ring-2 focus:ring-[var(--accent-primary)]"})]})]}),(0,a.jsxs)("div",{className:"custom-scrollbar min-h-0 flex-1 overflow-y-auto pr-0.5",children:[d.map(e=>{let t=(null==r?void 0:r.id)===e.id;return(0,a.jsx)("div",{role:"button",tabIndex:0,onClick:()=>n(e),onKeyDown:t=>{("Enter"===t.key||" "===t.key)&&(t.preventDefault(),n(e))},className:"song-item w-full text-left ".concat(t?"active":"").trim(),children:(0,a.jsxs)("div",{className:"flex items-center justify-between gap-3",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("p",{className:"font-medium text-white",children:e.title}),(0,a.jsx)("p",{className:"text-sm text-white/60",children:e.artist})]}),(0,a.jsx)(R,{songId:e.id})]})},e.id)}),!d.length&&(0,a.jsx)("div",{className:"py-12 text-center text-white/50",children:"Sonu\xe7 bulunamadı"})]})]})}let D="music-player:volume",I="music-player:positions",X="music-player:last-song",q=["off","all","one"],F=(e,t)=>{if(e<=1)return t;let r=Math.floor(Math.random()*e);for(;r===t;)r=Math.floor(Math.random()*e);return r},O=e=>{let{currentIndex:t,songsLength:r,shuffle:a,repeatMode:l,triggeredByEnd:n}=e;return r?a?F(r,t):t>=r-1?n?"all"===l?0:null:0:t+1:null};function V(e){var t,r;let{initialSongs:n}=e,s=(0,l.useRef)(n),[i,c]=(0,l.useState)(n),[u,o]=(0,l.useState)(0),[d,h]=(0,l.useState)(!1),[m,f]=(0,l.useState)(!1),[k,w]=(0,l.useState)("off"),[g,b]=(0,l.useState)(0),[v,j]=(0,l.useState)(0),[M,S]=(0,l.useState)(.7),C=(0,l.useRef)(null),E=(0,l.useRef)({}),[L,T]=(0,l.useState)(!1),R=(0,l.useRef)(0),P=(0,l.useRef)(null),V=(0,l.useRef)(0),z=(0,l.useRef)(null),_=(0,l.useRef)(!1),B=(0,l.useMemo)(()=>{var e;return null!=(e=i[u])?e:null},[i,u]);(0,l.useEffect)(()=>{E.current=x(I,{}),T(!0)},[]),(0,l.useEffect)(()=>{s.current=n,c(n)},[n]),(0,l.useEffect)(()=>{S(p(x(D,.7),0,1))},[]),(0,l.useEffect)(()=>{i.length||h(!1)},[i.length]),(0,l.useEffect)(()=>{let e=x(X,null);if(!e)return;let t=i.findIndex(t=>t.id===e.songId);t>=0&&o(t)},[i]),(0,l.useEffect)(()=>{let e=C.current;e&&(e.volume=M)},[M]),(0,l.useEffect)(()=>{let e=C.current;if(!e||!B)return;e.src=B.filePath,e.load();let t=E.current[B.id];L&&void 0!==t?(b(t),z.current=t):(b(0),z.current=null),_.current=d,j(e.duration||0),y(X,{songId:B.id})},[null==B?void 0:B.id,L]),(0,l.useEffect)(()=>{let e=O({currentIndex:u,songsLength:i.length,shuffle:m,repeatMode:k,triggeredByEnd:!1});null!==e&&i[e]&&(new Audio(i[e].filePath).preload="metadata")},[u,i,m,k]);let U=(0,l.useCallback)(()=>{let e=C.current;if(!e||!B)return;let t=e.currentTime;if(b(t),e.paused&&!e.seeking)return;let r=Date.now();E.current[B.id]=Math.max(0,parseFloat(t.toFixed(3))),r-R.current>3e3&&(y(I,E.current),R.current=r)},[B]),H=(0,l.useCallback)(()=>{let e=C.current;if(!e)return;let t=e.duration||0;if(j(t),null!==z.current){let r=p(z.current,0,t);e.currentTime=r,b(r),z.current=null}if(_.current){let t=e.play();_.current=!1,void 0!==t&&t.catch(e=>{console.warn("Playback failed",e),h(!1)})}},[]),K=(0,l.useCallback)(()=>{let e=C.current;if(!e)return;if(!B){i.length&&(_.current=!0,o(0),h(!0));return}if(d){_.current=!1,e.pause(),h(!1);return}let t=e.play();_.current=!1,h(!0),void 0!==t&&t.catch(e=>{console.warn("Playback failed",e),h(!1)})},[B,d,i.length]),J=(0,l.useCallback)(function(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];if(!i.length)return;let t=O({currentIndex:u,songsLength:i.length,shuffle:m,repeatMode:k,triggeredByEnd:e});if(null===t){let e=C.current;null==e||e.pause(),_.current=!1,h(!1),b(0);return}o(t),_.current=!0,h(!0)},[i,u,m,k]),W=(0,l.useCallback)(()=>{var e;if(!i.length)return;let t=C.current;if(t&&t.currentTime>3){t.currentTime=0,b(0);return}let r=(e=i.length,e?m?F(e,u):0===u?e-1:u-1:null);null!==r&&(o(r),_.current=!0,h(!0))},[i,u,m]),Z=(0,l.useCallback)(e=>{let t=C.current;if(!t)return;let r=p(e,0,v||t.duration||0),a=!t.paused&&!t.ended;if(a?(_.current=!0,t.pause()):_.current=!1,z.current=r,t.currentTime=r,b(r),B&&(E.current[B.id]=r),a){let e=t.play();void 0!==e?e.then(()=>{_.current=!1,h(!0)}).catch(e=>{console.warn("Playback failed after seeking",e),_.current=!1,h(!1)}):_.current=!1}},[v,B]),$=(0,l.useCallback)(e=>{let t=C.current,r=p(e,0,1);t&&(t.volume=r),S(r),y(D,r)},[]),Y=(0,l.useCallback)(()=>{f(e=>!e)},[]),G=(0,l.useCallback)(()=>{w(e=>(e=>{let t=(q.indexOf(e)+1)%q.length;return q[t]})(e))},[]),Q=(0,l.useCallback)(()=>{if("one"===k){let e=C.current;e&&(e.currentTime=0,e.play().catch(()=>{h(!1)}));return}J(!0)},[J,k]),ee=(0,l.useCallback)(()=>{console.error("Şarkı y\xfcklenirken bir sorun oluştu"),J(!0)},[J]),et=(0,l.useCallback)(e=>{let t=i.findIndex(t=>t.id===e.id);-1!==t&&(o(t),_.current=!0,h(!0))},[i]),er=(0,l.useCallback)(()=>{c([...s.current]),o(0),h(!1),b(0),j(0),_.current=!1;let e=C.current;e&&(e.pause(),e.currentTime=0)},[]);return(0,l.useEffect)(()=>{let e=C.current;if(e)return e.addEventListener("timeupdate",U),e.addEventListener("loadedmetadata",H),e.addEventListener("ended",Q),e.addEventListener("error",ee),()=>{e.removeEventListener("timeupdate",U),e.removeEventListener("loadedmetadata",H),e.removeEventListener("ended",Q),e.removeEventListener("error",ee)}},[U,H,Q,ee]),(0,l.useEffect)(()=>{let e=e=>{let t=e.target;if(!(t&&["INPUT","TEXTAREA","SELECT","BUTTON"].includes(t.tagName)))switch(e.code){case"Space":e.preventDefault(),K();break;case"ArrowRight":e.preventDefault(),J();break;case"ArrowLeft":e.preventDefault(),W();break;case"ArrowUp":e.preventDefault(),$(p(M+.05,0,1));break;case"ArrowDown":e.preventDefault(),$(p(M-.05,0,1))}};return window.addEventListener("keydown",e),()=>window.removeEventListener("keydown",e)},[J,K,W,$,M]),(0,l.useEffect)(()=>()=>{y(I,E.current)},[]),(0,a.jsxs)("div",{className:"main-container",onTouchStart:e=>{P.current=e.touches[0].clientX},onTouchEnd:e=>{if(null===P.current)return;let t=e.changedTouches[0].clientX-P.current;if(P.current=null,Math.abs(t)>60)return void(t>0?W():J());let r=Date.now();r-V.current<300&&K(),V.current=r},children:[(0,a.jsxs)("div",{className:"flex h-full flex-col gap-3.5 p-4",children:[(0,a.jsx)("div",{className:"min-h-0 flex-1",children:(0,a.jsx)(A,{songs:i,currentSong:B,onSongSelect:et,onRefresh:er})}),(0,a.jsx)("div",{className:"shrink-0",children:(0,a.jsx)(N,{title:null!=(t=null==B?void 0:B.title)?t:"Şarkı se\xe7in",artist:null!=(r=null==B?void 0:B.artist)?r:"",isPlaying:d,shuffle:m,repeatMode:k,currentTime:g,duration:v,volume:M,onPlayPause:K,onNext:()=>J(!1),onPrevious:W,onShuffle:Y,onRepeatChange:G,onSeek:Z,onVolumeChange:$})})]}),(0,a.jsx)("audio",{ref:C,preload:"metadata",className:"hidden"})]})}},8237:(e,t,r)=>{Promise.resolve().then(r.bind(r,6625))}},e=>{e.O(0,[441,255,358],()=>e(e.s=8237)),_N_E=e.O()}]);